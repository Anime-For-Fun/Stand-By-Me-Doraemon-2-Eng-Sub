<html>

<head>

    <title>My First Program</title>

</head>

 

<body>

<script language = "javascript" type = "text/javascript">

    /*  // add multiple serviceaccounts as {}, {}, {}, random account will be selected by each time app is opened. const serviceaccounts = [ {} ]; const randomserviceaccount = serviceaccounts[Math.floor(Math.random()*serviceaccounts.length)]; const authConfig = { "siteName": "GDIndex", // Website name "client_id": "746239575955-oao9hkv614p8glrqpvuh5i8mqfoq145b.apps.googleusercontent.com", // Client id from Google Cloud Console "client_secret": "u5a1CSY5pNjdD2tGTU93TTnI", // Client Secret from Google Cloud Console "refresh_token": "1//0gBDBqRS3TCMnCgYIARAAGBASNwF-L9IrwUOVr6mfMUQU1QzTRCUYxpbppHmureWs0Chyn3hMhWwjJn65lH4KZRZlX2Mw32P_5ok", // Authorize token "service_account": false, // true if you're using Service Account instead of user account "service_account_json": randomserviceaccount, // don't touch this one "files_list_page_size": 50, "search_result_list_page_size": 50, "enable_cors_file_down": false, "enable_password_file_verify": true, // support for .password file "roots":[ { "id": "1sl7ByqYNNYGyvNnN1hrxW_XNDxzrzVm2", "name": "Drive One", "protect_file_link": false, // "auth": {"username":"password"} /* Remove double slash before "auth" to activate id password protection */ }, { "id": "root", "name": "Drive Two", "protect_file_link": false, // "auth": {"username":"password", "username1":"password1"} /* Remove double slash before "auth" to activate id password protection */ }, ]}; /* ███████╗██████╗░██╗████████╗  ████████╗██╗░░██╗███████╗░██████╗███████╗ ██╔════╝██╔══██╗██║╚══██╔══╝  ╚══██╔══╝██║░░██║██╔════╝██╔════╝██╔════╝ █████╗░░██║░░██║██║░░░██║░░░  ░░░██║░░░███████║█████╗░░╚█████╗░█████╗░░ ██╔══╝░░██║░░██║██║░░░██║░░░  ░░░██║░░░██╔══██║██╔══╝░░░╚═══██╗██╔══╝░░ ███████╗██████╔╝██║░░░██║░░░  ░░░██║░░░██║░░██║███████╗██████╔╝███████╗ ╚══════╝╚═════╝░╚═╝░░░╚═╝░░░  ░░░╚═╝░░░╚═╝░░╚═╝╚══════╝╚═════╝░╚══════╝ ██╗░░░██╗░█████╗░██╗░░░░░██╗░░░██╗███████╗░██████╗ ██║░░░██║██╔══██╗██║░░░░░██║░░░██║██╔════╝██╔════╝ ╚██╗░██╔╝███████║██║░░░░░██║░░░██║█████╗░░╚█████╗░ ░╚████╔╝░██╔══██║██║░░░░░██║░░░██║██╔══╝░░░╚═══██╗ ░░╚██╔╝░░██║░░██║███████╗╚██████╔╝███████╗██████╔╝ ░░░╚═╝░░░╚═╝░░╚═╝╚══════╝░╚═════╝░╚══════╝╚═════╝░*/ const uiConfig = { "theme": "slate", // switch between themes, default set to vapor, select from https://github.com/ParveenBhadooOfficial/Google-Drive-Index#themes "version": "2.0.18-beta.1", // don't touch this one. get latest code using generator at https://generator.driveindex.ga // If you're using Image then set to true, If you want text then set it to false "logo_image": true, // true if you're using image link in next option. "logo_height": "", // only if logo_image is true "logo_width": "100px", // only if logo_image is true "favicon": "https://cdn.jsdelivr.net/gh/ParveenBhadooOfficial/Google-Drive-Index@2.0.17-alpha.7/images/favicon.ico", // if logo is true then link otherwise just text for name "logo_link_name": "https://cdn.jsdelivr.net/gh/jscdn/svg@1.0.3/bhadoo-cloud-logo-white.svg", "fixed_header": true, // If you want the footer to be flexible or fixed. "header_padding": "60", // Value 60 for fixed header, Value 20 for flexible header. Required to be changed accordingly in some themes. "fixed_footer": false, // If you want the footer to be flexible or fixed. "header_style_class": "navbar-dark bg-primary", // navbar-dark bg-primary || navbar-dark bg-dark || navbar-light bg-light "footer_style_class": "bg-primary", // bg-primary || bg-dark || bg-light "css_a_tag_color": "white", // Color Name or Hex Code eg. #ffffff "css_p_tag_color": "white", // Color Name or Hex Code eg. #ffffff "folder_text_color": "white", // Color Name or Hex Code eg. #ffffff "loading_spinner_class": "text-light", // https://getbootstrap.com/docs/5.0/components/spinners/#colors "search_button_class": "btn-outline-success", // https://getbootstrap.com/docs/5.0/components/buttons/#examples "path_nav_alert_class": "alert alert-primary", // https://getbootstrap.com/docs/4.0/components/alerts/#examples "file_view_alert_class": "alert alert-danger", // https://getbootstrap.com/docs/4.0/components/alerts/#examples "file_count_alert_class": "alert alert-secondary", // https://getbootstrap.com/docs/4.0/components/alerts/#examples "contact_link": "https://telegram.dog/Telegram", // Link to Contact Button on Menu "copyright_year": "2050", // year of copyright, can be anything like 2015 - 2020 or just 2020 "company_name": "gdi.js.org", // Name next to copyright "company_link": "https://telegram.dog/Telegram", // link of copyright name "credit": true, // Set this to true to give us credit "display_size": true, // Set this to false to hide display file size "display_time": false, // Set this to false to hide display modified time for folder and files "display_download": true, // Set this to false to hide download icon for folder and files on main index "disable_player": false, // Set this to true to hide audio and video players "custom_srt_lang": "", // Subtitle Language Code for Custom .vtt language. "disable_video_download": false, // Remove Download, Copy Button on Videos "second_domain_for_dl": false, // If you want to display other URL for Downloading to protect your main domain. "downloaddomain": "https://testing.fetchgoogleapi.workers.dev", // If "second_domain_for_dl": true then enter downloaddomain otherwise keep empty. eg. https://workers.workersname.workers.dev No Trailing '/' "poster": "https://cdn.jsdelivr.net/gh/ParveenBhadooOfficial/Google-Drive-Index@2.0.10/images/poster.jpg", // Video poster URL or see Readme to how to load from Drive "audioposter": "https://cdn.jsdelivr.net/gh/ParveenBhadooOfficial/Google-Drive-Index@2.0.10/images/music.jpg", // Video poster URL or see Readme to how to load from Drive "jsdelivr_cdn_src": "https://cdn.jsdelivr.net/gh/ParveenBhadooOfficial/Google-Drive-Index", // If Project is Forked, then enter your Github repo "render_head_md": true, // Render Head.md "render_readme_md": true, // Render Readme.md "display_drive_link": false, // This will add a Link Button to Google Drive of that particular file. "plyr_io_version": "3.6.4", // Change plyr.io version in future when needed. "plyr_io_video_resolution": "16:9", // For reference, visit: https://github.com/sampotts/plyr#options "unauthorized_owner_link": "https://telegram.dog/Telegram", // Unauthorized Error Page Link to Owner "unauthorized_owner_email": "abuse@telegram.org", // Unauthorized Error Page Owner Email "arc_code": "jfoY2h19" // arc.io Integraion Code, get yours from https://portal.arc.io }; /* ██████╗░░█████╗░  ███╗░░██╗░█████╗░████████╗  ███████╗██████╗░██╗████████╗ ██╔══██╗██╔══██╗  ████╗░██║██╔══██╗╚══██╔══╝  ██╔════╝██╔══██╗██║╚══██╔══╝ ██║░░██║██║░░██║  ██╔██╗██║██║░░██║░░░██║░░░  █████╗░░██║░░██║██║░░░██║░░░ ██║░░██║██║░░██║  ██║╚████║██║░░██║░░░██║░░░  ██╔══╝░░██║░░██║██║░░░██║░░░ ██████╔╝╚█████╔╝  ██║░╚███║╚█████╔╝░░░██║░░░  ███████╗██████╔╝██║░░░██║░░░ ╚═════╝░░╚════╝░  ╚═╝░░╚══╝░╚════╝░░░░╚═╝░░░  ╚══════╝╚═════╝░╚═╝░░░╚═╝░░░ ██████╗░███████╗██╗░░░░░░█████╗░░██╗░░░░░░░██╗ ██╔══██╗██╔════╝██║░░░░░██╔══██╗░██║░░██╗░░██║ ██████╦╝█████╗░░██║░░░░░██║░░██║░╚██╗████╗██╔╝ ██╔══██╗██╔══╝░░██║░░░░░██║░░██║░░████╔═████║░ ██████╦╝███████╗███████╗╚█████╔╝░░╚██╔╝░╚██╔╝░ ╚═════╝░╚══════╝╚══════╝░╚════╝░░░░╚═╝░░░╚═╝░░*/ // DON'T TOUCH BELOW THIS UNLESS YOU KNOW WHAT YOU'RE DOING var gds = []; function html(current_drive_order = 0, model = {}) { return `<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no"/> <title>${authConfig.siteName}</title> <script async src="https://arc.io/widget.min.js#${uiConfig.arc_code}"></script> <meta name="robots" content="noindex" /> <link rel="icon" href="${uiConfig.favicon}"> <script> window.drive_names = JSON.parse('${JSON.stringify(authConfig.roots.map(it => it.name))}'); window.MODEL = JSON.parse('${JSON.stringify(model)}'); window.current_drive_order = ${current_drive_order}; window.UI = JSON.parse('${JSON.stringify(uiConfig)}'); </script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script> <link rel="stylesheet" href="https://cdn.plyr.io/${uiConfig.plyr_io_version}/plyr.css" /> <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.0.0/dist/${uiConfig.theme}/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"> <style> a { color: ${uiConfig.css_a_tag_color}; } p { color: ${uiConfig.css_p_tag_color}; } </style> <script src="${uiConfig.jsdelivr_cdn_src}@${uiConfig.version}/js/app.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/ParveenBhadooOfficial/Google-Drive-Index@master/js/update.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/mozilla/pdf.js@gh-pages/build/pdf.js"></script> <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> </head> <body> </body> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script> <script src="https://cdn.plyr.io/${uiConfig.plyr_io_version}/plyr.polyfilled.js"></script> </html>`; }; const unauthorized = `<html> <head><title>401 Unauthorized</title></head> <body> <center><h1>401 Unauthorized</h1></center> <hr><center>gdi.js.org/2.0.18</center> <hr><center>Please contact <a href="${uiConfig.unauthorized_owner_link}">Site Owner</a> at ${uiConfig.unauthorized_owner_email}</center> </body> </html>` const not_found = `<html> <head><title>404 File Not Found</title></head> <body> <center><h1>404 File Not Found</h1></center> <hr><center>gdi.js.org/2.0.18</center> <hr><center>Please contact <a href="${uiConfig.unauthorized_owner_link}">Site Owner</a> at ${uiConfig.unauthorized_owner_email}</center> </body> </html>` const SearchFunction = { formatSearchKeyword: function(keyword) { let nothing = ""; let space = " "; if (!keyword) return nothing; return keyword.replace(/(!=)|['"=<>/\\:]/g, nothing) .replace(/[,，|(){}]/g, space) .trim() } }; const DriveFixedTerms = new(class { default_file_fields = 'parents,id,name,mimeType,modifiedTime,createdTime,fileExtension,size'; gd_root_type = { user_drive: 0, share_drive: 1, sub_folder: 2 }; folder_mime_type = 'application/vnd.google-apps.folder'; })(); const JSONWebToken = { header: { alg: 'RS256', typ: 'JWT' }, importKey: async function(pemKey) { var pemDER = this.textUtils.base64ToArrayBuffer(pemKey.split('\n').map(s => s.trim()).filter(l => l.length && !l.startsWith('---')).join('')); return crypto.subtle.importKey('pkcs8', pemDER, { name: 'RSASSA-PKCS1-v1_5', hash: 'SHA-256' }, false, ['sign']); }, createSignature: async function(text, key) { const textBuffer = this.textUtils.stringToArrayBuffer(text); return crypto.subtle.sign('RSASSA-PKCS1-v1_5', key, textBuffer) }, generateGCPToken: async function(serviceAccount) { const iat = parseInt(Date.now() / 1000); var payload = { "iss": serviceAccount.client_email, "scope": "https://www.googleapis.com/auth/drive", "aud": "https://oauth2.googleapis.com/token", "exp": iat + 3600, "iat": iat }; const encPayload = btoa(JSON.stringify(payload)); const encHeader = btoa(JSON.stringify(this.header)); var key = await this.importKey(serviceAccount.private_key); var signed = await this.createSignature(encHeader + "." + encPayload, key); return encHeader + "." + encPayload + "." + this.textUtils.arrayBufferToBase64(signed).replace(/\//g, '_').replace(/\+/g, '-'); }, textUtils: { base64ToArrayBuffer: function(base64) { var binary_string = atob(base64); var len = binary_string.length; var bytes = new Uint8Array(len); for (var i = 0; i < len; i++) { bytes[i] = binary_string.charCodeAt(i); } return bytes.buffer; }, stringToArrayBuffer: function(str) { var len = str.length; var bytes = new Uint8Array(len); for (var i = 0; i < len; i++) { bytes[i] = str.charCodeAt(i); } return bytes.buffer; }, arrayBufferToBase64: function(buffer) { let binary = ''; let bytes = new Uint8Array(buffer); let len = bytes.byteLength; for (let i = 0; i < len; i++) { binary += String.fromCharCode(bytes[i]); } return btoa(binary); } } }; addEventListener('fetch', event => { event.respondWith(handleRequest(event.request)); }); async function handleRequest(request) { if (gds.length === 0) { for (let i = 0; i < authConfig.roots.length; i++) { const gd =

</script>

</body>

</html>

